// =============================================================================
// Date Created:   24/12/2019
// Created By:     Salaah Amin
// =============================================================================
// Styling for the search page.
// Includes styling for the individual product pages.
// =============================================================================

// =============================================================================
header.single-product-header {
  @include padSection;
  padding-bottom: 0;
}

// =============================================================================
// Main tag for the contents on the product page.
.single-product {
  // gap in .product-showcase is 7rem.
  padding-left: 20rem;
  padding-right: 27rem;
  padding-top: 2rem;

  @include mediaQuery(1400) {
    padding-left: 15rem;
    padding-right: 21rem;
  }

  @include mediaQuery(1200) {
    // gap in .product-showcase is 4rem.
    padding-left: 8rem;
    padding-right: 12rem;
  }

  @include mediaQuery(1050) {
    // gap in .product-showcase is 2rem.
    padding-left: 3rem;
    padding-right: 5rem;
  }
}

// =============================================================================
// Top section of the page which contains the images along basic information
// and add to basket button.
// User's main focus should be here.
.product-showcase {
  display: grid;
  grid-template-columns: 50% 50%;
  grid-template-rows: 1fr;
  grid-auto-rows: auto;
  gap: 7rem;
  margin-bottom: 7rem;

  @include mediaQuery(1200) {
    gap: 4rem;
  }

  @include mediaQuery(1200) {
    gap: 2rem;
  }

  @include mediaQuery(900) {
    grid-template-columns: 45% 55%;
  }

  @include mediaQuery(842) {
    grid-template-columns: 50% 50%;
  }

  &__name {
    grid-column: 1/-1;
  }

  &[totalthumbs="1"] {

  }

  &[totalthumbs="2"],
  &[totalthumbs="3"],
  &[totalthumbs="4"] {
    grid-template-rows: 30vw;
  }

  // -------------------------------------------------------------------------
  // Each of the sections (2 in total) of main showcase containing.
  &__section {
    padding: 4rem 5rem;
    box-shadow: 0px 0px 12px 1px rgba(0, 0, 0, 0.25);

    @include mediaQuery(800) {
      padding: 2rem 2rem;
    }

    &--lhs {
      // The left hand side of the showcase container (left section)
    }

    &--rhs {
      // The right hand side of the showcase container (right section)
      height: 100%;
      display: grid;
      grid-template-columns: repeat(2, 50%);
      justify-content: center;
      align-self: center;

      & > * {
        margin-bottom: 2rem;
      }
    }

    // ---------------------------------------------------------------------
    // Items in the first of the two sections. Located on the LHS.
    &__img-container {
      // The image container on the LHS containing the images and the
      // alternative colour buttons.

      &__img {
        // Main image on in the section showing an image of the product.
        object-fit: cover;
        width: 55rem;
        height: 35rem;
        cursor: pointer;
      }

      &__alt-colours {
        // Contains the alternative colours in which a product is
        // available in.
        cursor: pointer;
      }
    }

    // ---------------------------------------------------------------------
    // Items on the second of the two sections.
    // These elements are located on the RHS of the page.
    &__name,
    &__price {
      // Name and price placed in the first row
      color: $colour-primary;
      border-bottom: 1px solid $colour-primary;
      padding-bottom: 1rem;
    }

    &__name {
    }

    &__price {
      text-align: right;
    }

    &__ratings {
      // Product ratings, placed on the second row.
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      grid-column: 1/-1;

      &__stars {
      }

      &__reviews {
      }
    }

    &__description {
      // Short description of the product, place in the third row.
      grid-column: 1/-1;
    }

    &__quantity {
      // Input element for choosing number of products to add to the
      // basket. Placed on the fourth row on the first column
      // alongside the add to basket button.

      display: flex;
      justify-content: flex-end;
      margin-right: 1.25rem;

      @include mediaQuery(842) {
        margin-right: 0;
        grid-column: 1/-1;
        margin-bottom: 1.5rem;
        justify-self: center;
      }

      &__btn,
      &__input {
        border: 1px solid $colour-grey-light-4;
      }

      &__btn {
        color: $colour-primary;
        transition: all 0.3s ease;

        &:not([disabled="disabled"]):hover {
          background-color: $colour-primary;
          color: #fff;
        }
      }

      &__input {
        color: $colour-grey-dark-1;
      }
    }

    &__colours {
      // Options for user to choose alternative colours

      display: flex;
      align-items: center;
      justify-content: flex-start;
      margin-left: 1.25rem;

      @include mediaQuery(842) {
        margin-left: 0;
        grid-column: 1/-1;
        justify-self: center;
        margin-bottom: 1.5rem;
      }

      .dropdown-menu {
        // .dropdown-menu is a component, the purpose of the styling
        // here is to overwrite the inherited styling.

        > * {
          // width = the width of the quantity element
          width: 17rem;
          font-size: 1.5rem;
          border-radius: 0;
          background-color: $colour-grey-light-4;
          border: 1px solid $colour-grey-light-3;
        }

        &__selected {
          color: $colour-grey-dark-1;

          &:hover {
            background-color: rgba(0, 0, 0, 0.1);
          }
        }

        &__options {
          &__label {
            // In the main component, label is treated as if it is
            // added to a "label" tag, however on the product page
            // it is added to an "a" tag.
            color: $colour-grey-dark-1;
            text-decoration: none;
          }
        }

        .sm-colour-box {
          width: 1.2rem;
          height: 1.2rem;
          display: inline-block;
          transform: translateY(1.5px);
          margin-right: 1rem;
          border-radius: 2px;
        }
      }
    }

    &__basket-add {
      // button element placed on the 4th row on the 2nd column
      // next to the quantity input element.
      grid-column: 1/-1;
      justify-self: center;
      min-width: 60%;

      @include mediaQuery(842) {
        margin-top: 0;
      }

      & > i {
        margin-right: 1rem;
      }
    }

    &__delivery-opts {
      // Contains delivery options, placed on the final row.
      grid-column: 1/-1;
    }
  }
}

// =============================================================================
// Section contains related products consisting of other products which together
// make up a set with the product and similar products.
// Placed in between the showcase section and the product information section.
.related-products {
  margin-top: 5rem;
  margin-bottom: 5rem;
  padding-top: 4rem;
  border-top: 10px solid rgba($colour-grey-light-3, 0.2);

  &__container {
    display: flex;
    flex-wrap: wrap;
    margin-bottom: 10rem;
  }

  &__title {
    display: block;
    width: 100%;
    margin-bottom: 4rem;
    color: $colour-secondary;
  }
}

// =============================================================================
.related-product {
  // Child of .replated-products
  display: flex;
  flex-direction: column;
  text-align: center;
  text-decoration: none;
  justify-content: stretch;
  margin-right: 2rem;

  &:first-of-type {
    margin-bottom: 4rem;
  }

  &__img {
    width: 30rem;
    height: 20rem;
    border-radius: 5px;
    box-shadow: 2px 3px 10px 1px rgb(102, 102, 102);
    transition: all 0.3s ease;

    &:hover {
      filter: brightness(1.2);
      transform: scale(1.02);
    }
  }

  &__name {
    color: $colour-secondary;
    margin-top: 2rem;
    font-weight: 600;
  }

  &__price {
    color: $colour-grey-dark-1;
  }
}

// =============================================================================
// The bottom part of the page which contains more detailed information on
// each product.
.product-info {
  // Main container
  display: grid;
  grid-template-columns: repeat(2, 50%);
  margin-top: 8rem;
  padding-left: 20rem;
  padding-right: 20rem;
  gap: 5rem;

  & > * {
    margin-bottom: 4rem;
  }

  &__section {
    // Each sub-section in .product-info.

    &__title {
      // Title for each sub-section.
      color: $colour-secondary;
      border-bottom: 1px solid $colour-secondary;
      padding-bottom: 1rem;
      margin-bottom: 1rem;
    }

    &__sub-heading {
      // Contains the name and ratings of the store.
      display: flex;

      &__store-name {
        margin-right: 20rem;
        display: inline-block;
      }

      // Overriding the ratings component.
      .product-info__section__ratings {
        display: flex;
        align-items: center;

        .ratings__stars {
          margin-right: 1rem;
        }
      }
    }
    &__text-block {
      // Contains a block of text at each sub section.
    }

    &__text {
      // Text contained within a text block.
      line-height: 1.75em;
    }
  }
}
